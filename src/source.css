@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Source+Code+Pro:ital,wght@0,400;1,400&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

html,
:root {
	font-size: 16px;
	@apply bg-zinc-50 bg-opacity-100 text-zinc-700 dark:bg-zinc-950 dark:text-white;
}

body {
	@apply font-sans leading-[1.6];
	@apply bg-zinc-50 text-zinc-700 dark:bg-zinc-950 dark:text-white;
}

h1,
h2,
h3,
h4,
h5,
h6 {
	@apply font-semibold leading-[1.6] !text-black dark:!text-white focus:outline-none focus-visible:outline-none;
}

body,
button,
p,
ul {
	@apply m-0 p-0;
}

@media print {
	nav,
	#sidebar {
		display: none !important;
	}
	#content {
		margin-left: 0 !important;
	}
}

.container {
	@apply w-[90%] md:w-[92%] lg:w-[94%] max-w-[1600px] mx-auto;
}

a {
	@apply text-primary-700 dark:text-primary-400 no-underline hover:underline focus:outline-none focus-visible:outline-none;
}

hr {
	@apply border-t border-zinc-500 my-6;
}

/* Doc theming */

#md-content {
	@apply max-w-[90ch];
	@apply text-[15px] leading-6 sm:text-[16px] sm:leading-[26px];
	@apply dark:text-zinc-300 text-zinc-900;
}
#md-content h1,
#md-content h2,
#md-content h3,
#md-content h4,
#md-content h5,
#md-content h6 {
	@apply font-semibold !text-black dark:!text-white;
	@apply mb-3 mt-9 tracking-[-0.012em];
}
#md-content h1 {
	@apply text-4xl !leading-[1.3];
}

#md-content h2 {
	@apply text-3xl;
	@apply border-b border-zinc-300 dark:border-zinc-800 pb-1 pt-2;
}

#md-content h3 {
	@apply text-2xl;
}

#md-content h4 {
	@apply text-xl mt-8;
}

#md-content h5 {
	@apply text-lg mt-8;
}

#md-content h6 {
	@apply text-base mt-7;
}
#md-content .header-anchor {
	@apply text-zinc-950 dark:text-zinc-50 no-underline;
}
#md-content .header-anchor:hover span {
	@apply underline;
}
#md-content .header-anchor:after {
	content: "#";
	@apply text-zinc-900/50 dark:text-zinc-50/50 ml-2 opacity-0 font-medium;
	font-size: 80%;
}
#md-content .header-anchor:hover:after {
	@apply opacity-100 !no-underline;
}
#md-content p {
	@apply my-3.5;
}
#md-content p eq:before {
	content: " ";
	display: inline-block;
}

#md-content li > p:first-of-type {
	@apply mt-0;
}

#md-content img {
	@apply w-full my-5 rounded shadow;
}

#md-content ul {
	@apply mt-3.5;
}

#md-content li > ul {
	@apply mt-0;
}

#md-content li {
	@apply ml-5 mt-2.5 pl-2.5;
}

#md-content ul > li {
	@apply list-disc;
}

#md-content ol > li {
	@apply list-decimal;
}

#md-content li::marker {
	@apply text-zinc-700 dark:text-zinc-300;
}
#md-content li > p {
	@apply mb-2;
}

#md-content video {
	@apply w-full;
}

#md-content table {
	@apply w-full my-6 table-fixed;
}
#md-content li > table {
	@apply mt-3;
}
#md-content table td {
	@apply w-full text-zinc-700 dark:text-zinc-400;
}
#md-content table th {
	@apply text-zinc-800 dark:text-zinc-300;
}
#md-content table th,
#md-content table td {
	@apply text-left;
	@apply pt-2.5 px-1.5 first:pl-0 last:pr-0;
}
#md-content table tr:first-child th {
	@apply pt-2;
}
#md-content table tr:last-child td {
	@apply pb-3;
}

#md-content section:has(eqn) {
	@apply my-6;
}
#md-content em,
#md-content strong {
	@apply text-zinc-800/90 dark:text-zinc-300/90;
}
#md-content strong {
	@apply font-semibold;
}

/* Code */

#md-content pre {
	@apply bg-black/5 dark:bg-white/5 rounded w-full;
	@apply overflow-auto my-5;
}
#md-content li pre {
	@apply my-4;
}

#md-content pre > code {
	@apply bg-transparent !font-normal inline-block;
	@apply font-mono text-zinc-700 dark:text-zinc-100;
	@apply pl-4 pr-12 py-3;
}
:not(#md-content pre) > code {
	/* inline code */
	@apply bg-black/5 dark:bg-white/10 rounded;
	@apply border border-black/10 dark:border-zinc-200/20;
	@apply py-0.5 px-1 font-sans text-[15px];
}
#md-content pre.good,
#md-content pre.bad {
	@apply pt-6 relative border-2;
}
#md-content pre.good {
	@apply border-green-500 bg-green-50/50 dark:border-green-800 dark:bg-green-600/5;
}
#md-content pre.bad {
	@apply border-red-500 bg-red-50/50 dark:border-red-800 dark:bg-red-600/5;
}
#md-content pre.good:after,
#md-content pre.bad:after {
	content: "";
	@apply size-6 absolute top-2.5 left-3.5;
}
#md-content pre.good:after {
	background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='24px' height='24px' stroke-width='1.6' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' color='%2316a34a'%3E%3Cpath d='M7 12.5L10 15.5L17 8.5' stroke='%2316a34a' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3Cpath d='M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z' stroke='%2316a34a' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3C/svg%3E");
}
#md-content pre.bad:after {
	background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='24px' height='24px' stroke-width='1.6' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg' color='%23dc2626'%3E%3Cpath d='M9.17218 14.8284L12.0006 12M14.829 9.17157L12.0006 12M12.0006 12L9.17218 9.17157M12.0006 12L14.829 14.8284' stroke='%23dc2626' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3Cpath d='M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z' stroke='%23dc2626' stroke-width='1.6' stroke-linecap='round' stroke-linejoin='round'%3E%3C/path%3E%3C/svg%3E");
}
#md-content .markdown-it-code-copy {
	@apply place-items-center justify-center;
	@apply flex lg:hidden text-sm hover:bg-zinc-300 hover:dark:bg-zinc-800 dark:bg-zinc-900 bg-zinc-200 rounded p-2;
}
#md-content .markdown-it-code-copy span.copy-icon {
	background-image: url('data:image/svg+xml,<%3Fxml version="1.0" encoding="UTF-8"%3F><svg width="24px" height="24px" stroke-width="1.6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="%23000000"><path d="M19.4 20H9.6C9.26863 20 9 19.7314 9 19.4V9.6C9 9.26863 9.26863 9 9.6 9H19.4C19.7314 9 20 9.26863 20 9.6V19.4C20 19.7314 19.7314 20 19.4 20Z" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M15 9V4.6C15 4.26863 14.7314 4 14.4 4H4.6C4.26863 4 4 4.26863 4 4.6V14.4C4 14.7314 4.26863 15 4.6 15H9" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>');
	@apply size-5 dark:invert-[0.7] invert-[0.3] block;
}
#md-content div:hover > .markdown-it-code-copy {
	@apply flex;
}

#md-content blockquote {
	@apply border-solid border-l-2 border-zinc-300 dark:border-zinc-700 pl-4;
	font-style: italic;
}

/* Toggle */

.darkmode-toggle {
	background: linear-gradient(
		135deg,
		rgba(93, 199, 225, 0.7) 30%,
		rgba(255, 222, 30, 0.7)
	);
	display: inline-block;
	border-radius: 50rem;
	width: 3rem;
	height: 1.75rem;
	position: relative;
	transition: all 0.3s ease;
	cursor: pointer;
}
.dark .darkmode-toggle {
	background: linear-gradient(
		225deg,
		rgba(58, 182, 213, 0.3) 30%,
		rgba(116, 58, 213, 0.4)
	);
}

.darkmode-toggle button {
	background-color: #ffffff;
	width: 1.5rem;
	height: 1.5rem;
	border-radius: 50%;
	position: absolute;
	padding: 0;
	border: none;
	top: 0.125rem;
	left: 0.125rem;
	transition: all 0.3s ease;
}
.dark .darkmode-toggle button {
	left: 1.35rem;
}

/* Sidebar */
#sidebar {
	transition-property: margin-left, width;
	@apply duration-300 ease-in-out;
}
#content {
	transition-property: margin-left, width;
	@apply duration-300 ease-in-out;
}
#content {
	transition-property: margin-left;
	@apply pl-1;
}
#content.sidebar-open {
	@apply lg:ml-64 xl:ml-72 2xl:ml-[22rem];
}
#sidebar #sidebar-toggle,
#sidebar-toggle-closed {
	@apply size-10 my-2 transition-all;
}
#sidebar[aria-hidden="true"] {
	@apply w-0 lg:w-10 hover:bg-zinc-100 dark:hover:bg-zinc-900 bg-transparent;
}
#sidebar[aria-hidden="false"] {
	@apply w-64 lg:w-56 xl:w-60 2xl:w-72 max-w-full;
}
#sidebar[aria-hidden="true"] > div {
	animation: fadeOut 0.15s linear forwards;
}
#sidebar[aria-hidden="false"] > div {
	animation: fadeIn 0.15s linear forwards;
}
#sidebar[aria-hidden="false"] #sidebar-toggle-closed {
	@apply hidden;
}
#sidebar[aria-hidden="true"] #sidebar-toggle-closed {
	animation: none;
	@apply block absolute right-0 bottom-0;
}
#sidebar #sidebar-toggle .ic-sidebar {
	background: url('data:image/svg+xml,<%3Fxml version="1.0" encoding="UTF-8"%3F><svg width="24px" stroke-width="1.6" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="%23000000"><path d="M19 21L5 21C3.89543 21 3 20.1046 3 19L3 5C3 3.89543 3.89543 3 5 3L19 3C20.1046 3 21 3.89543 21 5L21 19C21 20.1046 20.1046 21 19 21Z" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M7.25 10L5.5 12L7.25 14" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.5 21V3" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>');
	@apply size-6 dark:invert-[0.7] scale-90;
}
#sidebar #sidebar-toggle-closed .ic-sidebar {
	background: url('data:image/svg+xml,<%3Fxml version="1.0" encoding="UTF-8"%3F><svg width="24px" stroke-width="1.6" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="%23000000"><path d="M19 21L5 21C3.89543 21 3 20.1046 3 19L3 5C3 3.89543 3.89543 3 5 3L19 3C20.1046 3 21 3.89543 21 5L21 19C21 20.1046 20.1046 21 19 21Z" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.5 21V3" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5.5 10L7.25 12L5.5 14" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>');
	@apply size-6 dark:invert-[0.7] scale-90;
}
/* below lg, toggle is fixed to bottom left */
@media (max-width: 1023px) {
	#sidebar[aria-hidden="true"] #sidebar-toggle-closed {
		@apply size-12 bg-zinc-100 dark:bg-zinc-900 rounded m-2 shadow fixed left-0 bottom-0;
	}
	#sidebar[aria-hidden="true"] #sidebar-toggle-closed button {
		@apply size-12;
	}
}
#sidebar-nav-list a,
#sidebar-doc-list .accordion__button,
#sidebar-doc-list a {
	@apply font-medium block text-[15px] 2xl:text-base hover:no-underline;
	@apply py-1.5 my-1.5 px-2 hover:bg-zinc-200 dark:hover:bg-zinc-800 rounded text-zinc-800 dark:text-zinc-100;
}
#sidebar-doc-list .accordion__button {
	@apply my-0;
}
#sidebar-doc-list a[aria-current="true"],
#sidebar-doc-list a[aria-current="true"]:hover {
	@apply px-2 bg-primary-300/30 dark:bg-primary-500/10 text-primary-700 dark:text-primary-200 border-none rounded font-medium hover:no-underline;
}
#sidebar-doc-list .accordion ul {
	@apply pl-2 grid border-l-4 border-zinc-300 dark:border-zinc-700;
	grid-template-rows: 0fr;
	transition: grid-template-rows 0.15s ease-in-out;
}
#sidebar-doc-list .accordion > ul > div {
	@apply overflow-hidden;
}
#sidebar-doc-list .accordion[aria-expanded="true"] > ul {
	grid-template-rows: 1fr;
	@apply mb-2;
}
#sidebar-doc-list .accordion + .accordion {
	@apply mt-1.5;
}
#sidebar-doc-list .accordion > .accordion__button:after {
	content: "";
	@apply w-5 h-5 absolute right-4 rotate-[270deg] dark:invert-[0.7];
	background: url('data:image/svg+xml,<%3Fxml version="1.0" encoding="UTF-8"%3F><svg width="20px" height="20px" stroke-width="1.6" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="%23000000"><path d="M6 9L12 15L18 9" stroke="%23000000" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg>');
	background-repeat: no-repeat;
	transition: all 0.15s ease-in-out;
}
#sidebar-doc-list .accordion[aria-expanded="true"] > .accordion__button:after {
	@apply rotate-180 right-2 w-6 scale-110;
}
#sidebar-doc-list .accordion .accordion__button {
	@apply flex items-center justify-between w-full relative pr-12;
}
#sidebar-doc-list .accordion .accordion__button span {
	@apply truncate text-ellipsis overflow-hidden inline-block;
}
#sidebar-doc-list .accordion[aria-expanded="true"] > .accordion__button {
	@apply mb-0;
}
#sidebar-doc-list .accordion[aria-expanded="true"] > .accordion__button > span {
	@apply overflow-auto whitespace-normal inline-block text-left;
}
@keyframes fadeOut {
	0% {
		opacity: 1;
	}
	100% {
		opacity: 0;
		display: none;
	}
}
@keyframes fadeIn {
	0% {
		opacity: 0;
		display: block;
	}
	100% {
		opacity: 1;
	}
}

/* Table of Contents */
#toc li a {
	@apply text-[15px] my-1.5 block text-zinc-700 dark:text-zinc-300 hover:text-primary-700 dark:hover:text-primary-300;
}
#toc li a[aria-current="true"] {
	@apply text-primary-700 dark:text-primary-300;
}

/* Syntax Highlighting */
.hljs-comment {
	@apply text-zinc-500 dark:text-zinc-500;
}
.hljs-punctuation,
.hljs-tag {
	@apply text-[#165181] dark:text-[#a5d6ff];
}
.hljs-tag .hljs-attr,
.hljs-tag .hljs-name {
	@apply text-[#0d7717] dark:text-[#7ee787];
}
.hljs-attribute,
.hljs-doctag,
.hljs-keyword,
.hljs-meta .hljs-keyword,
.hljs-name,
.hljs-selector-tag {
	@apply text-[#ad3229] dark:text-[#ff7b72];
}
.hljs-deletion,
.hljs-number,
.hljs-quote,
.hljs-selector-class,
.hljs-selector-id,
.hljs-string,
.hljs-template-tag,
.hljs-type {
	@apply text-[#165181] dark:text-[#a5d6ff];
}
.hljs-section,
.hljs-title {
	@apply text-[#5712a0] dark:text-[#d2a8ff];
}
.hljs-link,
.hljs-operator,
.hljs-regexp,
.hljs-selector-attr,
.hljs-selector-pseudo,
.hljs-symbol,
.hljs-template-variable,
.hljs-variable {
	@apply text-slate-800 dark:text-slate-300;
}
.hljs-literal {
	@apply text-[#225d92] dark:text-[#79c0ff];
}
.hljs-addition,
.hljs-built_in,
.hljs-bullet,
.hljs-code {
	@apply text-[hsl(283,65%,29%)] dark:text-[hsl(283,63%,75%)];
}
.hljs-meta {
	color: #1f7199;
}
.hljs-meta .hljs-string {
	color: #38a;
}
.hljs-emphasis {
	font-style: italic;
}
.hljs-strong {
	font-weight: 700;
}
